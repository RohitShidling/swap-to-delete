<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>delete</title>
    <style>
        .container {
            width: 100%;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            overflow-x: hidden;
        }

        .box {
            margin: 10px;
            height: 40px;
            border-radius: 10px;
            background: red;
            transition: transform 0.4s ease, opacity 0.4s ease;
            cursor: pointer;
        }

        .box.hide {
            transform: translateX(-100%);
            opacity: 0;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="box">1</div>
        <div class="box">2</div>
        <div class="box">3</div>
        <div class="box">4</div>
        <div class="box">5</div>
        <div class="box">6</div>
    </div>
</body>

<script>
    let box = document.querySelectorAll('.box');
    box.forEach(bx => {
        let isDragging = false;
        let starx = 0;
        let currentx = 0;
        let deltax = 0;
        bx.addEventListener('mousedown', (e) => {
            isDragging = true;
            starx = e.clientX;
            bx.style.transition = 'none';

        })

        bx.addEventListener('mousemove', (e) => {
            if (isDragging) {
                console.log("ldjf");

                currentx = e.clientX;
                deltax = currentx - starx;

                bx.style.transform = `translateX(${deltax}px)`;
            }
        })


        bx.addEventListener('mouseup', (e) => {
            if (isDragging) {
                isDragging = false;
                bx.style.transition = "transform 0.5s ease-in-out";
                if (deltax < -50) {

                    bx.style.transform = `translateX(-100%)`;
                    setTimeout(() => {
                        bx.style.display = 'none';
                    }, 300);
                }
                else if (deltax > 50) {
                    bx.style.transform = `translateX(100%)`;
                    setTimeout(() => {
                        bx.style.display = 'none';
                    }, 300);
                }
                else {
                    bx.style.transition = "transform 0.5s ease-in-out";
                    bx.style.transform = 'translateX(0)';
                }
            }
        })

        bx.addEventListener('mouseleave', (e) => {
            if (isDragging) {
                isDragging = false;
                bx.style.transition = "transform 0.5s ease-in-out";
                bx.style.transform = 'translateX(0)';
            }
        })








        box.forEach(bx=> {
            let isDragging = false;
            let starx = 0;
            let currentx = 0;
            let deltax = 0;
            bx.addEventListener('touchstart', (e) => {
                isDragging = true;
                starx = e.touches[0].clientX;
                bx.style.transition = 'none';

            })

            bx.addEventListener('touchmove', (e) => {
                if (isDragging) {

                    currentx = e.touches[0].clientX;
                    deltax = currentx - starx;

                    bx.style.transform = `translateX(${deltax}px)`;
                }
            })


            bx.addEventListener('touchend', (e) => {
                if (isDragging) {
                    isDragging = false;
                    bx.style.transition = "transform 0.5s ease-in-out";
                    if (deltax < -50) {

                        bx.style.transform = `translateX(-100%)`;
                        setTimeout(() => {
                            bx.style.display = 'none';
                        }, 300);
                    }
                    else if (deltax > 50) {
                        bx.style.transform = `translateX(100%)`;
                        setTimeout(() => {
                            bx.style.display = 'none';
                        }, 300);
                    }
                    else {
                        bx.style.transition = "transform 0.5s ease-in-out";
                        bx.style.transform = 'translateX(0)';
                    }
                }
            })

          

        })


    })

</script>

</html>